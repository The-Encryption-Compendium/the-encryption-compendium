{% extends "dashboard_base.html" %}

{% block title %}New tag | {{ block.super }}{% endblock %}
{% block page_header %}Add a new tag{% endblock %}

{% block contents %}
{{ block.super }}
<form class="uk-form" method="POST">
  {% csrf_token %}

  {% if success %}
  <span class="uk-alert uk-alert-success" role="alert">
    Successfully created new tag
  </span>
  {% endif %}

  {% if form.non_field_errors %}
  <span class="uk-alert uk-alert-danger" role="alert">
    {{ form.non_field_errors }}
  </span>
  {% endif %}

  <fieldset class="uk-margin-bottom">
    {% for field in form %}
      {% include 'includes/generic_form_field.html' with field=field %}
    {% endfor %}
  </fieldset>

  <button id="tag-submit-button" class="uk-button uk-button-primary" type="submit">
    Add new tag
  </button>
</form>

<br class="sep">

<div class="uk-width-1-1 uk-text-center uk-margin-bottom">
  <h2 class="uk-h2 uk-text-bold">
    Current tags
  </h2>
</div>

<form class="uk-form" method="POST">
  {% csrf_token %}

  {# Display all of the tags that already exist #}
  <div class="uk-grid uk-grid-small" data-uk-margin="">
    {% for tag in tags %}
    <div>
      <div class="uk-panel uk-panel-box">
        {{ tag.tagname }}
        <a href="#kill-tag-{{ tag.id }}" data-uk-modal="">
          <i class="uk-margin-left uk-text-danger uk-icon-close"></i>
        </a>
      </div>
    </div>

    {# Modal that allows users to completely kill a tag #}
    <div id="kill-tag-{{ tag.id }}" class="uk-modal">
      <div class="uk-modal-dialog">
        <a class="uk-modal-close uk-close" href=""></a>
        <div class="uk-modal-header">
          <h3 class="uk-h3">
            Are you sure you want to delete this tag?
          </h3>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</form>

<br class="sep">

{% endblock %}
