{% comment %}
Template to render custom CheckboxSelectMultiple widgets.
{% endcomment %}

<div class="uk-container">
  {% with id=widget.attrs.id %}
  <ul{% if id %} id="{{ id }}"{% endif %}{% if widget.attrs.ul_class %} class="{{ widget.attrs.ul_class }}"{% endif %}>
    {% for group, options, index in widget.optgroups %}
      {% if group %}
      <li>{{ group }}
        <ul{% if id %} id="{{ id }}_{{ index }}"{% endif %}>
      {% endif %}
      {% for option in options %}
        <li class="uk-grid-margin">{% include option.template_name with widget=option %}</li>
      {% endfor %}
      {% if group %}
      </ul>
      </li>
      {% endif %}
    {% endfor %}
  </ul>
  {% endwith %}
</div>
