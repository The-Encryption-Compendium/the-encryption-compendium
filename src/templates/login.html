{% extends "base.html" %}

{% block title %}Login | {{ block.super }}{% endblock %}

{% block body %}
<div class="container justify-content-md-center my-4">
  <form method="POST">
    <div class="container auth-form">
      {% csrf_token %}

      <h2 class="text-center display-5 mb-4">
        Login
      </h2>

      {% if form.non_field_errors %}
      <span class="d-flex justify-content-center">
        <div class="form-error alert alert-danger mx-auto" role="alert">
          {% if form.non_field_errors|length == 1 %}

          <div class="text-center">
            {% for error in form.non_field_errors %}
            {{ error }}
            {% endfor %}
          </div>

          {% else %}

          Unable to log in. The following errors were encountered:
          {{ form.non_field_errors }}

          {% endif %}
        </div>
      </span>
      {% endif %}

      {% for field in form %}
      <div class="form-group">
        {{ field }}
        {% include "includes/field_errors.html" with errors=field.errors only %}
      </div>
      {% endfor %}
      <div class="text-center">
        <button id="login-button" class="btn btn-primary" type="submit">
          Log in
        </button>
      </div>
    </div>
  </form>
</div>
{% endblock %}
